---
ebook:
  theme: one-dark.css
  title: ê°ì²´ì§€í–¥
  authors: Escatrgot
  disable-font-rescaling: true
  margin: [0.1, 0.1, 0.1, 0.1]
---
<style>
    h3.quest { font-weight: bold; border: 3px solid; color: #A0F !important;}
    .quest { font-weight: bold; color: #A5F !important;}
    h2 { border-top: 12px solid #D40; border-left: 5px solid #D40; border-right: 5px solid #D40; background-color: #D40; color: #FFF !important; font-weight: bold;}
    h3 { border-top: 12px solid #F90; border: 5px solid #F90; background-color: #F90; color: #FFF !important;}

    h4 { font-weight: bold; color: #FFF !important; }

    summary { cursor:pointer; font-weight:bold; color : #0F0 !important;}

    .red{color: #d93d3d;} 
    .darkred{color: #470909;} 
    .orange{color: #cf6d1d;} 
    .yellow{color: #DD3;} 
    .green{color: #25ba00;} 
    .blue{color: #169ae0;} 
    .pink{color: #d10fd1;} 
    .dim{color : #666666;} 
    .lime{color : #addb40;}

    .container {
        display : flex; 
        flex-direction:row;
        align-items:center;
    }
    .item {
        margin-right:2%;
    }

    @media screen and (min-width:1001px){
        .container {
            width: 90%;
            flex-wrap : nowrap;
            justify-content:center;
        }
    }
    
    @media screen and (max-width:1000px){
        .container {
            width: 98%;
            flex-wrap : nowrap;
            justify-content:center;
        }
    }
    
    @media screen and (max-width:799px){
        .container {
            justify-content:left;
            flex-wrap : wrap;
        }
    }
</style>


## ğŸ“„  4. ê°ì²´ì§€í–¥ ë””ìì¸ íŒ¨í„´

#### Unityì—ì„œ ì•Œì•„ë‘ë©´ ì¢‹ì„ ë””ìì¸íŒ¨í„´ ê·¸ í™•ì¥í¸

### ğŸ“„ 1. ìƒì„± íŒ¨í„´

<div align="center">
  <h4> ìƒì„±ê³¼ ì°¸ì¡°ê³¼ì •ì„ ìº¡ìŠí™” í•˜ì—¬ ê°ì²´ê°€ ìƒì„±ë˜ê±°ë‚˜ ë³€ê²½ë˜ë„ <br>
  ì‹œìŠ¤í…œì— ì˜í–¥ì„ í¬ê²Œ ë°›ì§€ ì•Šë„ë¡ í”„ë¡œê·¸ë¨ì˜ ìœ ì—°ì„±ì„ ë”í•´ì£¼ëŠ” íŒ¨í„´</h4>
</div>

---

#### 1). Simple Factory Method
> ë‹¨, ì‚¬ì‹¤ ë””ìì¸ íŒ¨í„´ì´ë¼ê¸° ë³´ë‹¨ 
> ***Factory Method Pattern*** / ***Abstract Factory Pattern***ì˜ Baseê°€ ë˜ëŠ” ë¶€ë¶„ì´ë‹¤.

**â“ íŠ¹ì§•**

ë‹¤ìŒê³¼ ê°™ì€ Simple Factoryì„ ë§Œë“¤ì–´ì„œ ì–»ëŠ” ì´ì .

1.  ê°ì²´ ìƒì„±ì„ Factory ì—­í• ì„ í•˜ëŠ” í´ë˜ìŠ¤ì— ìœ„ì„í•˜ëŠ”ê²ƒì´ ëª©í‘œë‹¤. ê·¸ë˜ì„œ, ê³³ê³³ì— í¼ì ¸ìˆëŠ” ê°ì²´ ìƒì„±ì˜ ì±…ì„ì„ í•œ ëª¨ë“ˆì„ í†µí•´ ê´€ë¦¬í•œë‹¤ëŠ” ì 
2.  í”¼ìì˜ ì¢…ë¥˜ê°€ ë‚˜ì¤‘ì— ì¶”ê°€ í˜¹ì€ ë³€ê²½(ì½”ë“œì˜ í™•ì¥, ìˆ˜ì • ë³€ê²½ì´ ìì£¼ ì¼ì–´ë‚˜ëŠ”)ë˜ëŠ” ìš”ì†Œë¥¼ ì¶”ìƒí™”í•¨ ë‹¤ì–‘í•œ íŒ©í† ë¦¬ë¥¼ ìƒì†, í™•ì¥ì˜ ìš©ì´ì„±ì´ ìˆë‹¤, 
3.  ìƒì†ê³¼ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ê³¼ ê°™ì´ ë‹¤ì–‘í•œ ì„œë¸Œíƒ€ì…ì„ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¤í˜•ì„±ì˜ ì´ë“ì„ ë³¼ ìˆ˜ ìˆë‹¤.

**â“‘ ì‚¬ìš©í•˜ëŠ” ì´ìœ **
ì¼ë°˜ì ì¸ ê°ì²´ë¥¼ ìƒì„±í• ë•ŒëŠ” ë³´í†µ new ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œë‹¤.

**â“’ êµ¬ì„±ìš”ì†Œ**

* **Product** : 
    * íŒ©í† ë¦¬ë¥¼ í†µí•´ ìƒì„±ì´ ë˜ëŠ” ê°ì²´ë“¤ì˜ **ì¸í„°í˜ì´ìŠ¤ || ì¶”ìƒí´ë˜ìŠ¤** 
* **Concrete Product** :
    * Productë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ìƒì†ë°›ëŠ” ê°ì²´
    ProductTypeê³¼ 1ëŒ€ 1 ëŒ€ì‘í•˜ë„ë¡ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì¤˜ì•¼í•œë‹¤.
* **Factory** :
    * Concrete Productë¥¼ ë¦¬í„´í•´ì£¼ëŠ” í´ë˜ìŠ¤
    `CreateProduct(ProductType type)`ë¥¼ í†µí•´ì„œ íƒ€ì…ì— ë§ëŠ” ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤.

**â““ êµ¬í˜„**

**ë‹¤ì–‘í•œ í”¼ìë¥¼ ìƒì„±í•˜ëŠ” "Static Method" Java**
```java

/*********************************************************************************
* ë‹¤ìŒê³¼ ê°™ì€ Static Methodì„ ë§Œë“¤ì–´ì„œ ì–»ëŠ” ì´ì .
*   1.  ê°ì²´ì˜ ìƒì„±ì„ í•œ ë©”ì†Œë“œì—ì„œ ê´€ë¦¬í•˜ê²Œ ë˜ê³ , 
        ë”°ë¼ì„œ í”¼ì ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê³³ì„ í•œê³³ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤.

* ë‹¤ë§Œ, í˜„ì¬ êµ¬í˜„ ìƒí™©ì˜ ë‹¨ì ì€..
*   1.  ì¼ë‹¨ ìŠ¤íŠ¸ë§ íƒ€ì…ìœ¼ë¡œ ë°›ê¸° ë•Œë¬¸ì—, ì˜¤íƒ€ì˜ ì˜¤ë¥˜ê°€ ìˆì„ê²ƒ & ë¬¸ìì—´ ë¹„êµì˜ ë¹„ìš©ì´ í¼
        -> Enumíƒ€ì…ì„ ì“°ë©´ ì–´ë–¨ê¹Œ? : EnumTypeì˜ í­ë°œì´ ìˆì„ ê°€ëŠ¥ì„±ì´ ìˆìŒ
    1.  ìƒì†ê¸°ëŠ¥ì´ ë¶ˆê°€ëŠ¥, ë”°ë¼ì„œ í™•ì¥ì´ í˜ë“¦
*********************************************************************************/

public class PizzaStore {
    public class Pizza {
        public prepare(){}
        public bake(){}
        public cut(){}
        public box(){}

        public Pizza orderPizza(String type) {
            pizza = createPizza(type);
            pizza.prepare();
            pizza.bake();
            pizza.cut();
            pizza.box();
            return pizza;
        }
    }

    static public Pizza createPizza(String type) {
        switch(type) {
            Pizza pizza = null;
            case "cheese": 
            {
                pizza = new CheesePizza();
                break;
            }
            case "potato": 
            {
                pizza = new PotatoPizza();
                break;
            }
            case "pepperoni": 
            {
                pizza = new PepperoniPizza();
                break;
            }
            default { break;}
        }
        return pizza;
    }
}
```

**ë‹¤ì–‘í•œ í”¼ìë¥¼ ìƒì„±í•˜ëŠ” "Simple Factory" Java**
|Code|Diagram|
|:--|:--|
|<img src="./img/SFCode.png">|<img src="./img/SFDCD.png">|

**ëª¬ìŠ¤í„°ë¥¼ ìƒì„±í•˜ëŠ” "Simple Factory" Cs**
```cs
/*Product.cs*/
public abstract class ProductMob : MonoBehaviour{
    protected int mHp;
    public int HP {
        get { return mHp; }; 
        set {
            if(mHp - value < 0) {mHp = 0;}
            mHp = value;
        };
    }
    public void Move();
    public void Die();
    public void GetDamaged(int _amout);
}
```
```cs
/*ConcreteProducts.cs*/
public enum MobType {Raptor, RobUwa}

public class Raptor : ProductMob {
    public override void Move() { Debug.Log("ìŒì§ì¸ë‹¤!"); }
    public override void Die() { Debug.Log("ì£½ì—ˆë‹¤!"); }
    public override void GetDamaged(int _amout) {
        this.HP -= _amount;
        Debug.Log("ë§ì•˜ë‹¤!");
        if(this.HP <= 0) {Die();}
    }
}
public class RobUwa : ProductMob {
    public override void Move() { Debug.Log("ìŒì§ì¸ë‹¤!"); }
    public override void Die() { Debug.Log("ì£½ì—ˆë‹¤!"); }
    public override void GetDamaged(int _amout) {
        this.HP -= _amount;
        Debug.Log("ë§ì•˜ë‹¤!");
        if(this.HP <= 0) {Die();}
    }
}
```
```cs

/*Factory.cs*/
public class SimpleMobFactory {
    public static GameObject CreateMob(MobType type) {
        GameObject res = null;
        switch (type) 
        {
            case MobType.Raptor : 
            {
                res = Instantiate(Raptor);
                break;
            }
            case MobType.RobUwa : 
            {
                res = Instantiate(RobUwa);
                break;
            }
        }
        return res;
    }
}
```
```cs
/*MobGenerator.cs*/
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class MobGenerator : MonoBehaviour {
    void Start () {
        ProductMob mob1 = SimpleMobFactory.CreateMob(MobType.Raptor);
        ProductMob mob2 = SimpleMobFactory.CreateMob(MobType.RobUwa);

        mob1.Move(); mob1.GetDamaged(10); 
        mob2.Move(); mob2.GetDamaged(15); 
    }
}
```

---

#### 2). Factory Method
**â“ íŠ¹ì§•**

1. ì´ íŒ¨í„´ì€ ê°ì²´ ìƒì„±ì„ Creatorë¼ëŠ” í•œê³³ì—ì„œë§Œ ê´€ë¦¬í•˜ë„ë¡ í•˜ê³ 
2. "ì™¸ë¶€ ì ‘ê·¼ì´ ê°€ëŠ¥í•œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ" `Creator.CreateProduct()`ë¥¼ ì œê³µí•œë‹¤.
3. ê°ì²´ì˜ ìƒì„±ì„ ì‚¬ìš©ê³¼ ë¶„ë¦¬í•¨ìœ¼ë¡œ, ìƒì„±í•  ê°ì²´ì˜ íƒ€ì…ì„ ë‚˜ì¤‘ì— ê²°ì •í•  ìˆ˜ ìˆê²Œ í•´ì£¼ê³ 
4. ì–´ë–¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í• ì§€ëŠ” í•˜ìœ„í´ë˜ìŠ¤ë“¤ì´ ê²°ì •í•˜ë„ë¡ í•´ì£¼ëŠ” íŒ¨í„´ì´ë‹¤.
5. Simple Factoryì—ì„œ DIPì›ì¹™ì„ ì§€í‚¤ê³  OCPì„ ê°œì„ í•œ íŒ¨í„´ì´ë‹¤.

**â“‘ êµ¬ì„±ìš”ì†Œ**

<p align="center">
    <img src=img/23-11-29-16-49-03.png width=75%>
</p>

* **Product** : 
    * íŒ©í† ë¦¬ë¥¼ í†µí•´ ìƒì„±ì´ ë˜ëŠ” ê°ì²´ë“¤ì˜ **ì¸í„°í˜ì´ìŠ¤ || ì¶”ìƒí´ë˜ìŠ¤** 

* **Concrete Product** :
    * Productë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ìƒì†ë°›ëŠ” ì„œë¸Œíƒ€ì… ê°ì²´

* **Factory|Creator** :
    * Product **[ì¸í„°í˜ì´ìŠ¤ || ì¶”ìƒí´ë˜ìŠ¤]** ë¼ëŠ” ìƒìœ„ ìˆ˜ì¤€ íƒ€ì…ì— ì˜ì¡´í•˜ê³  ìˆê³ , 
    êµ¬ì²´í™”ëœ ConcreteProductë¥¼ ëª°ë¼ë„ ëœë‹¤.
    * ë‘ë²ˆì§¸ë¡œ ê°ì²´ ìƒì„±ì„ ìœ„í•œ ì¶”ìƒì ì¸ í‹€ë§Œ ì œê³µí•˜ê³ , ìì‹ì—ì„œ êµ¬í˜„í•˜ë„ë¡ ìœ„ì„í•œë‹¤.
        ```
        ê·¸ë ‡ê²Œ í•˜ë©´ FactoryMethodë¥¼ ê°€ì§€ëŠ” Createí´ë˜ìŠ¤ëŠ” 
        ì–´ë–¤ ConcreteCreatorí´ë˜ìŠ¤ê°€ ì‚¬ìš©ë ì§€ ëª¨ë¥´ëŠ” ìƒíƒœì—ì„œ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.
        
        ê°ì²´ ìƒì„±ì„ ìœ„í•œ abstract Product CreateProduct(ProductType type)ë¥¼ í†µí•´ì„œ 
        íƒ€ì…ì— ë§ëŠ” ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤. 
        ê·¸ë¦¬ê³  ì´ ë©”ì„œë“œëŠ” ConcreteCreatorì—ì„œ êµ¬ì²´í™” ë˜ë„ë¡ í•˜ì—¬ 
        ìì‹ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê¼´ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
        
        ë‹¨, ì¶”ìƒ ë©”ì†Œë“œê°€ ì•„ë‹Œê²ƒì€ ì¬ì •ì˜ í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤. 
        ì“¸ë°ì—†ì´ ìƒì†ë°›ì„ ë©”ì„œë“œëŠ” finalë¡œ ê³ ì •í•¨ìœ¼ë¡œ êº ì§€ê¸° ì‰¬ìš´ ê¸°ë°˜í´ë˜ìŠ¤ êµ¬ì¡°ë¥¼ ë§‰ì•„ì•¼ í•œë‹¤.
        ```
* **Concrete Factory|Creator** :
    * Factory|Creatorë¥¼ ìƒì† ë°›ì•„ Createí•´ì„œ ê°ì²´ ìƒì„± ë°©ì‹ì„ êµ¬ì²´í™” í•œ ì„œë¸Œíƒ€ì… ê°ì²´ë“¤
    * ConcreteCreatorëŠ” Creatorì— ìƒì†ê´€ê³„ë¡œ ì˜ì¡´ì ì´ì§€ë§Œ. CreatorëŠ” ConcreteCreatorì—ì„œ êµ¬ì²´í™”ëœ ìƒì„± ë©”ì†Œë“œë¥¼ ëª°ë¼ë„ ëœë‹¤.


**â“’ êµ¬í˜„**

ë‹¤ìŒ ì˜ˆì‹œëŠ” ë¶€ëª¨í´ë˜ìŠ¤ëŠ” ìì‹ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ìˆëŠ”ë°ë„ ìì‹ì˜ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

|Diagram|Code|
|:-:|:-:|
|<img src="./img/FMDiagram.png">|<img src="./img/FMCode.png">|

Switch Caseë¥¼ ê°œì„ í•´ë³´ê¸°

```java
/*ì´ê±´ Simple Factory ê¸°ë²•ì´ë‹¤.*/
class FruitFactory {
    public static Fruit createApple(/* parameters */){}
    public static Fruit createBanana(/* parameters */){}
    public static Fruit createMelon(/* parameters */){}
}
```

```java
/*Fruit.java*/
class abstract Fruit {
    string Name;
    image icon;
    public final void Display() { /* display logic */}
}

class Apple extends Fruit {}

/*FruitFactory.java*/
class abstract FruitFactory {
    public final static Fruit createFruit(/* parameters */) {
        Fruit fruit = createSpecificFruit(s); 
        return fruit;
    }

    protected abstract Fruit createSpecificFruit(/* parameters */);
}

class AppleFactory extends FruitFactory {
    @Override
    protected Fruit createSpecificFruit(/* parameters */) {
        Apple apple = new Apple(/* parameters */)
    }
}
```

**â““ ì˜ˆì‹œ**
Asteroid ê²Œì„ : ì†Œí–‰ì„±ì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´ì„ ì´ìš©í•´ êµ¬í˜„í•œë‹¤.

---


#### 3). Abstract Factory

**â“ íŠ¹ì§•**

> Thre Abstract Factory Provides an interface for creatring families of related
> dependent objects without specifying their concrete classes

ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” ìš”ì†Œì§€ë§Œ, í…Œë§ˆë‚˜, ì¡°ê¸ˆ ë‹¤ë¥¸ í˜•íƒœë¥¼ ì§€ëŠ” ë³€ê²½ëœ ê²ƒë“¤ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ë•Œ, ê·¸ëŸ°ê²ƒë“¤ì„ ë§Œë“œëŠ” ë…€ì„

ê°ì²´ë“¤ì´ ì–´ë–»ê²Œ ìƒì„±ë˜ëŠ”ì§€ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì¶”ìƒí™” í•˜ê¸° ìœ„í•´
1. ì‘ìš©ì´ ì—¬ëŸ¬ ê°ì²´ ì§‘í•©ë“¤ì¤‘ í•˜ë‚˜ë¡œ êµ¬ì„±ë˜ì•¼ í• ë•Œ
2. ê°ì²´ê°€ ì§‘í•©ìœ¼ë¡œ ìƒì„±ë˜ì–´ì•¼ í• ë•Œ. (families of related)

Factory ë©”ì„œë“œëŠ” ìƒì†ì„ í†µí•´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°˜ë©´, Abstract FactoryëŠ” ìƒì†ë³´ë‹¤ëŠ” Has-A ê´€ê³„ë¥¼ ì´ìš©í•´ ê°ì²´ë¥¼ ìƒì„±

ì¥ì  
1. êµ¬í˜„ì‹œ êµ¬ì²´ì ì¸ ê°ì²´ ìƒì„±ì€ ë‚˜ì¤‘ì— ë¯¸ë£° ìˆ˜ ìˆìŒ
2. ì‹¤í–‰ ì‹œê°„ì—ë„ ì‰½ê²Œ ê°ì²´ ìƒì„± ì§‘í•©ì„ ë°”ê¿€ ìˆ˜ ìˆìŒ
3. SRPë¥¼ ë§Œì¡±í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°ë‹¤.

ë‹¨ì 
1. ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ Productë¥¼ ì§€ì›í•´ì•¼ í•˜ë©´ í´ë˜ìŠ¤ ê°¯ìˆ˜ê°€ ëŠ˜ì–´ë‚œë‹¤.


<div align=center>
    <img src="./img/23-12-05-17-40-09.png" width=75%>
    <h5>í–‰ : ì œí’ˆ íŒ¨ë°€ë¦¬(Family) / ì—´ : ê·¸ë“¤ì˜ ë³€í˜•</h5> 
</div>

**â“‘ êµ¬ì„±ìš”ì†Œ**

<div align=center>
    <img src="./img/AbstractFactory.svg" width=75%>
</div>

* **Abstract Product (Interface)** :
    * "ì¼ê´€ì ì¸ ê´€ê³„ê°€ ìˆëŠ” ê°ì²´ë“¤(families of related)" ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤
    * ì˜ˆë¥¼ ë“¤ì–´ `ì˜ì, ì±…ìƒ, ì†ŒíŒŒ` 

* **Concrete Products** : 
    * ë³€í˜•ì´ ìˆëŠ” êµ¬ì²´ì ì¸ ê°ì²´ë“¤
    * ì˜ˆë¥¼ ë“¤ì–´ `ì•„ë¥´ë°ì½”, ëª¨ë˜, ë¹…í† ë¦¬ì•ˆ`

<div align=center>
    <img src="./img/FORDiagram.png" width=75%>
</div>

* **Abstract Factory (Interface)** : 
    * ì¶”ìƒ íŒ©í† ë¦¬ëŠ” "families of related" ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ê³  
    (Abstract Factory Provides an interface for creatring families of related),
    * "families of related"ê°ê° ê°œë³„ ê²ƒë“¤(Chair, Sofa, Table..)ì„ ìƒì„±í•˜ëŠ” ë©”ì„œë“œë¥¼ ì „ë¶€ ëª©ë¡í™” í•œ ì¸í„°í˜ì´ìŠ¤ë‹¤.
   
* **Concrete Factory** : 
    * ì¶”ìƒ íŒ©í† ë¦¬ë¥¼ êµ¬ì²´í™” ì‹œì¼œ, "ë³€í˜•ì´ ìˆëŠ” êµ¬ì²´ì ì¸ ê°ì²´"ë“¤ì„ ìƒì„±í•˜ëŠ” íŒ©í† ë¦¬ë¥¼ ë§Œë“ ë‹¤.

<div align=center>
    <img src="./img/AFDiagram.png" width=75%>
</div>

* **Client** :
    * í´ë¼ì´ì–¸íŠ¸ëŠ” ìœ„ì˜ Productë“ , Factoryë“ , êµ¬ì²´ì ì¸ í´ë˜ìŠ¤ì— ëŒ€í•´ ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. (dependent objects without specifying their concrete classes)
    * ë”°ë¼ì„œ ì‘ì—…í•˜ëŠ” íŒ©í† ë¦¬ì˜ êµ¬ì²´ í´ë˜ìŠ¤ì—ëŒ€í•´ ì‹ ê²½ ì“°ì§€ ì•Šì•„ë„ ë˜ê³ , ì•Œí•„ìš”ë„ ì—†ë‹¤
    * êµ¬ì²´ íƒ€ì…ì´ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í”„ë¡œê·¸ë˜ë°

---

### ğŸ“„ 2. êµ¬ì¡° íŒ¨í„´

<div align="center">
  <h4>í´ë˜ìŠ¤ë‚˜ ê°ì²´ë¥¼ ì¡°í•©í•˜ì—¬ ë” í°êµ¬ì¡°ë¡œ ë§Œë“œëŠ” íŒ¨í„´ </h4>
</div>

---

### ğŸ“„ 3. í–‰ë™ íŒ¨í„´

<h4 align="center">
í´ë˜ìŠ¤ì™€ ê°ì²´ê°„ ì„œë¡œ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë°©ë²•ì´ë‚˜ ì±…ì„ ë¶„ë°° ë°©ë²•ì„ ì •ì˜
í•˜ë‚˜ì˜ ê°ì²´ë¡œ ìˆ˜í–‰í•  ìˆ˜ ì—†ëŠ”ì‘ì—…ì„ ì—¬ëŸ¬ ê°ì²´ë¡œ ë¶„í•´í•˜ë©´ì„œ ê²°í•©ë„ë¥¼ ë‚®ì¶œìˆ˜ ìˆìŒ
</h4>

---

#### 1). Visitor

**â“ íŠ¹ì§•**
ë°ì´í„° êµ¬ì¡°ì™€ ë°ì´í„° ì²˜ë¦¬ë¥¼ ë¶„ë¦¬í•´ì£¼ëŠ” íŒ¨í„´ ë°ì´í„° êµ¬ì¡°ëŠ” Composite patternì„ ì‚¬ìš©í•¨

**â“‘ ì™œ ì“°ëŠ”ê±´ê°€?**
ë°ì´í„° ì²˜ë¦¬ ë°©ì‹ì„ ê¸°ì¡´ì˜ ì†ŒìŠ¤ì½”ë“œ ë³€ê²½ ì—†ì´ ìƒˆë¡œìš´ ì¶”ê°€ë§Œìœ¼ë¡œ í™•ì¥í•  ìˆ˜ ìˆìŒ

**â“’ êµ¬ì„±ìš”ì†Œ**
```
Client : 
Unit :interface 
ë°ì´í„° êµ¬ì¡°ë¥¼ ë‚˜íƒ€ëƒ„
    item ë‹¨ì¼ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 
    itemList : ìœ ë‹› ë°ì´í„°ë¥¼ ì—¬ëŸ¬ê°œ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡
Visitor : interface
    ë°ì´í„° ì²˜ë¦¬ ë©”ì†Œë“œ
```

**â““ êµ¬í˜„**
```cs
/*Unit.cs*/
public interface Unit {
    void Accept(Visitor visitor);
}

/*item.cs*/
public class Item : Unit{
    public int value {get; private set};

    public Item(int value) {this.value = value;}

    public override Accept(Visitor visitor) {visitor.visit(this);}
}

/*itemList.cs*/
public class ItemList : Unit{
    private List<Unit> list = new List<Unit>();

    public void Add(Unit unit) {list.Add(unit);}
    public void AddList(List<Unit> unit) {unit.Foreach(u => list.Add(u);)}

    public override Accept(Visitor visitor) {
        list.Foreach(u => visitor.visit(u));
    }
}

/*Visitor.cs*/
public interface Visitor {
    void Visit(Unit unit);
}

/*SumVisitor.cs*/
public class SumVisitor : Visitor {
    private int sum = 0;

    public int getValue() {return sum;}

    public override void Visit(Unit unit) {
        if(unit instanceof Item) {
            sum += (Item) unit.value;
        }
        else 
        {
            unit.Accept(this);
        }
    }
}

/*AvgVisitor.cs*/
public class AvgVisitor : Visitor {
    private int sum = 0;
    private int count = 0;

    public int getValue() {return sum / count;}

    public override void Visit(Unit unit) {
        if(unit instanceof Item) {
            sum += (Item) unit.value;
            count++;
        }
        else  {
            unit.Accept(this);
        }
    }
}

/*MainEntry.cs*/ 
public class MainEntry {
    public static void main(string[] argc) {
        ItemList list1 = new ItemList();
        list1.add(new Item(10));
        list1.add(new Item(40));
        list1.add(new Item(30));
        
        ItemList list2 = new ItemList();
        list2.add(new Item(15));
        list2.add(new Item(55));
        list2.add(new Item(30));
        
        ItemList list3 = new ItemList();
        list3.Add(new Item(25);)
        list2.Add(list3);

        SumVisitor sum = new SumVisitor();
        list1.Accept(sum);

        AvgVisitor avg = new AvgVisitor();
        list2.Accept(avg)
    }
}
```

**â“” ì˜ˆì‹œ**

### ğŸ“„ 4. ë””ì»¤í”Œë§ íŒ¨í„´


#### 1). Event Queue : Decoupling Patterns
> Decouple when a message or event is sent from when it is processed.
> "ì´ë²¤íŠ¸" "ë©”ì„¸ì§€ë¥¼" ìƒí˜¸ êµì²´í•˜ë©´ì„œ ì‚¬ìš©í•  ì˜ˆì •.
> ìƒˆë¡œìš´ ë©”ì„¸ì§€ê°€ ë“¤ì–´ì˜¤ë”ë¼ë„, ì´ì „ ë©”ì„¸ì§€ê°€ ëë‚ ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ê¸° ìœ„í•´ ë©”ì„¸ì§€ íë¥¼ ì‚¬ìš©í•¨.
> ì‹œê°„ê³¼ ë””ì»¤í”Œë§í•˜ê¸° ìœ„í•´ ì‚¬ìš©

```cs
/*Client.cs*/

public static event System.Action<string> => OnFuelRunOut;

private UpdateMass(float dt) {
    ...
    if(lastMass > massNoFuel && (currentMass <= massNoFuel)) {
        OnFuelRunOut?.Invoke($"{rocketName} has run out of fuel");
    } 
    ...
}

/*MessageReceiver.cs*/
using TMPro;
public class MessagePanelBehaviour : MonoBehaviour {
    [SerializeField] private TextMeshProGUI messageDisplay;
    private float displayTime;
    private Queue<string> messages = new Queue<string>();

    private void OnEnable(){
        Client.OnFuelRunOut += RocketEngineBehaviour_OnFuelRunOut;
    }

    private void RocketEngineBehaviour_OnFuelRunOut(string obj) {
        message.Enqueu(obj);
    }

    private void OnDisable(){
        Client.OnFuelRunOut -= RocketEngineBehaviour_OnFuelRunOut;
    }

    private void Update() {
        CheckQueue();
    }

    private void CheckQueue() {
        if(/*Is Running*/) {return;}
        if(messages.Count > 0) {
            RocketEngineBehaviour_OnFuelRunOut(messages.Dequeue());
        }
    }
}
```

[ì´ë²¤íŠ¸í íŒ¨í„´ : (EventQueuePattern)](./src/Design/EventQueue/EventQueuePattern.cs)
[ì¶”ìƒì ì¸ ì˜ì¡´ ê´€ê³„ í´ë˜ìŠ¤ : (SomeDependentService)](./src/Design/EventQueue/SomeDependentService.cs)
[ì´ë²¤íŠ¸ íê°€ ì˜ì¡´í•˜ëŠ” ì»¤ë§¨ë“œ ì¸í„°í˜ì´ìŠ¤ ë™ë¬¼ (Icommand)](./src/Design/EventQueue/ICommand.cs)

### ì°¸ê³ 


https://www.youtube.com/watch?v=QC8Q5MWB-mQ

https://www.youtube.com/watch?v=rbtyXGDL0eo

https://refactoring.guru/ko/design-patterns/abstract-factory

https://www.youtube.com/watch?v=gqRxK2A3Upg&list=PLsIth_qcusf_4DcL2C8GzkS5sz5TeW38q&index=22

https://github.com/JoanStinson/UnityDesignPatternsReference